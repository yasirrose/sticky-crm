"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[603],{4625:(Z,u,n)=>{n.d(u,{p:()=>y});var c=n(6019),f=n(9133),g=n(7185),h=n(3668);let y=(()=>{class l{}return l.\u0275fac=function(p){return new(p||l)},l.\u0275mod=h.oAB({type:l}),l.\u0275inj=h.cJS({imports:[[c.ez,g.q,f.u5]]}),l})()},1603:(Z,u,n)=>{n.r(u),n.d(u,{TicketDailyModule:()=>pt});var c=n(6019),f=n(9133),g=n(6113),h=n(4625),y=n(7185),l=n(4382),m=n(4762),p=n(2968),T=n(2262),s=n(240),x=n(1168),M=n(9190),b=n(2919),O=n(2411),A=n(8735);const R=new c.uU("en-US");class E{constructor(a){this.date=R.transform(a.date,"MM-dd-yyyy"),this.initials=a.initials,this.decline=a.decline,this.decline_per=a.decline_per,this.scrub_per=a.scrub_per,this.EOT_declines=a.EOT_declines,this.EOT_approved=a.EOT_approved,this.EOT_per=a.EOT_per}get decline_percentage(){let a="";return this.decline_per&&(a=(100*this.decline_per).toFixed(2)+"%"),a}}var P=n(7182),t=n(3668),v=n(5304),D=n(4099),J=n(238);let N=(()=>{class i{constructor(e){this.apiService=e,this.formulasGetResponse=new D.X([]),this.ticketsGetResponse=new D.X([]),this.formulasGetResponse$=this.formulasGetResponse.asObservable()}getFormulas(){return(0,m.mG)(this,void 0,void 0,function*(){return yield this.apiService.getData("formulas").then(e=>e.json()).then(e=>{this.orders=e,this.formulasGetResponse.next(e)}),this.orders})}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(J.s))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var L=n(9978),U=n(1136),G=n(7635),C=n(86),I=n(4643),S=n(9009),Q=n(904),Y=n(3530),k=n(9112);function F(i,a){1&i&&t._UZ(0,"mat-progress-bar",19)}function z(i,a){1&i&&(t.TgZ(0,"th",20),t.TgZ(1,"mat-checkbox",21),t.NdJ("click",function(o){return o.stopPropagation()}),t.qZA(),t.qZA())}function _(i,a){1&i&&(t.TgZ(0,"td",22),t.TgZ(1,"mat-checkbox",21),t.NdJ("click",function(o){return o.stopPropagation()}),t.qZA(),t.qZA())}function B(i,a){1&i&&t._UZ(0,"th",23)}function $(i,a){if(1&i&&(t.TgZ(0,"td",24),t._UZ(1,"img",25),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.MGl("src","http://i.pravatar.cc/30?u=",e.name,"",t.LSH)}}function j(i,a){if(1&i&&(t.TgZ(0,"th",30),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.name,"")}}function H(i,a){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const e=a.$implicit,o=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e[o.property]," ")}}function W(i,a){if(1&i&&(t.ynx(0,27),t.YNc(1,j,2,1,"th",28),t.YNc(2,H,2,1,"td",29),t.BQk()),2&i){const e=t.oxw().$implicit;t.Q6J("matColumnDef",e.property)}}function X(i,a){if(1&i&&(t.ynx(0),t.YNc(1,W,3,1,"ng-container",26),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.isModelProperty)}}function K(i,a){1&i&&t._UZ(0,"th",32)}function V(i,a){if(1&i&&(t.TgZ(0,"td",22),t.TgZ(1,"button",33),t.NdJ("click",function(o){return o.stopPropagation()}),t.TgZ(2,"mat-icon"),t._uU(3,"more_horiz"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("matMenuTriggerFor",e.actionsMenu)}}function w(i,a){1&i&&t._UZ(0,"tr",34)}function q(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr",35),t.NdJ("click",function(){const d=t.CHM(e).$implicit;return t.oxw().updateCustomer(d)}),t.qZA()}}const tt=[{path:"",component:(()=>{class i{constructor(e,o,r){this.dialog=e,this.goldenTicketService=o,this.campaignService=r,this.subject$=new b.t(1),this.data$=this.subject$.asObservable(),this.isLoading=!1,this.totalRows=0,this.pageSize=25,this.currentPage=0,this.pageSizeOptions=[5,10,25,100],this.filters={},this.notyf=new P.Iq({types:[{type:"info",background:"#6495ED",icon:'<i class="fa-solid fa-clock"></i>'}]}),this.columns=[{name:"Checkbox",property:"checkbox",visible:!1},{name:"Date",property:"date",visible:!0,isModelProperty:!0},{name:"Initials",property:"initials",visible:!0,isModelProperty:!0},{name:"Decline",property:"decline",visible:!0,isModelProperty:!0},{name:"Decline %",property:"decline_percentage",visible:!0,isModelProperty:!0},{name:"Scrub %",property:"scrub_per",visible:!0,isModelProperty:!0},{name:"EOT Declines",property:"EOT_declines",visible:!0,isModelProperty:!0},{name:"EOT Approved",property:"EOT_approved",visible:!0,isModelProperty:!0},{name:"EOT %",property:"EOT_per",visible:!0,isModelProperty:!0}]}get visibleColumns(){return this.columns.filter(e=>e.visible).map(e=>e.property)}ngOnInit(){this.getSubscription=this.campaignService.ticketDailyResponse$.subscribe(e=>this.manageGetResponse(e)),this.getData(),this.dataSource=new s.by,this.data$.pipe((0,A.h)(e=>!!e)).subscribe(e=>{this.tickets=e,this.dataSource.data=e})}mapData(){return(0,O.of)(this.tickets.map(e=>new E(e)))}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}pageChanged(e){this.pageSize=e.pageSize,this.currentPage=e.pageIndex,this.getData()}getData(){return(0,m.mG)(this,void 0,void 0,function*(){this.isLoading=!0,yield this.campaignService.getDailyTicket().then(e=>{this.tickets=e.data,this.mapData().subscribe(o=>{this.subject$.next(o)}),this.isLoading=!1},e=>{this.isLoading=!1})})}manageGetResponse(e){}onFilterChange(e){!this.dataSource||(e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e)}refreshToday(){return(0,m.mG)(this,void 0,void 0,function*(){this.notyf.open({type:"info",message:"Records will be refreshed soon..."}),this.isLoading=!0,yield this.campaignService.refreshDailyTicket().then(e=>{this.tickets=e.data,this.dataSource.data=e.data,this.notyf.success("Records are updated successfully"),this.isLoading=!1},e=>{this.isLoading=!1})})}refreshAll(){return(0,m.mG)(this,void 0,void 0,function*(){this.notyf.open({type:"info",message:"Records will be refreshed soon..."}),this.isLoading=!0,yield this.campaignService.refreshAllDailyTicket().then(e=>{this.tickets=e.data,this.dataSource.data=e.data,this.notyf.success("Records are updated successfully"),this.isLoading=!1},e=>{this.isLoading=!1})})}ngOnDestroy(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(v.uw),t.Y36(N),t.Y36(L.U))},i.\u0275cmp=t.Xpm({type:i,selectors:[["fury-ticket-daily"]],viewQuery:function(e,o){if(1&e&&(t.Gf(p.NW,7),t.Gf(T.YE,7)),2&e){let r;t.iGM(r=t.CRH())&&(o.paginator=r.first),t.iGM(r=t.CRH())&&(o.sort=r.first)}},inputs:{columns:"columns"},decls:23,vars:11,consts:[["mode","simple"],["mat-raised-button","","color","accent",1,"mb",3,"click"],["mat-raised-button","","color","accent",1,"mb","ml",3,"click"],["name","Golden STicket (Daily)",3,"columns","filterChange"],["mode","indeterminate",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["matColumnDef","image"],["class","image-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","image-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["mode","indeterminate"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],["mat-header-cell","",1,"image-cell"],["mat-cell","",1,"image-cell"],[3,"src"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"fury-page-layout",0),t.TgZ(1,"fury-page-layout-content"),t.TgZ(2,"button",1),t.NdJ("click",function(){return o.refreshToday()}),t._uU(3,"Refresh Today"),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return o.refreshAll()}),t._uU(5,"Refresh All"),t.qZA(),t.TgZ(6,"fury-list",3),t.NdJ("filterChange",function(d){return o.onFilterChange(d)}),t.YNc(7,F,1,0,"mat-progress-bar",4),t.TgZ(8,"table",5),t.ynx(9,6),t.YNc(10,z,2,0,"th",7),t.YNc(11,_,2,0,"td",8),t.BQk(),t.ynx(12,9),t.YNc(13,B,1,0,"th",10),t.YNc(14,$,2,1,"td",11),t.BQk(),t.YNc(15,X,2,1,"ng-container",12),t.ynx(16,13),t.YNc(17,K,1,0,"th",14),t.YNc(18,V,4,1,"td",8),t.BQk(),t.YNc(19,w,1,0,"tr",15),t.YNc(20,q,1,0,"tr",16),t.qZA(),t.TgZ(21,"mat-paginator",17,18),t.NdJ("page",function(d){return o.pageChanged(d)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("@fadeInUp",void 0),t.xp6(5),t.Q6J("columns",o.columns),t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(7),t.Q6J("ngForOf",o.columns),t.xp6(4),t.Q6J("matHeaderRowDef",o.visibleColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.visibleColumns),t.xp6(1),t.Q6J("length",o.totalRows)("pageIndex",o.currentPage)("pageSize",o.pageSize)("pageSizeOptions",o.pageSizeOptions))},directives:[U.N,G.d,C.lW,I.n,c.O5,s.BZ,T.YE,s.w1,s.fO,s.Dz,c.sg,s.as,s.nj,p.NW,S.pW,s.ge,Q.oG,s.ev,T.nU,Y.p6,k.Hw,s.XQ,s.Gk],styles:[".mb[_ngcontent-%COMP%]{margin-bottom:10px}.ml[_ngcontent-%COMP%]{margin-left:10px}"],data:{animation:[x.M,M.X]}}),i})()}];let et=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[l.Bz.forChild(tt)],l.Bz]}),i})();var it=n(9198),nt=n(6153),at=n(138),ot=n(9859),st=n(6400),rt=n(8727),lt=n(6731),ct=n(3050),mt=n(8898);let pt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[c.ez,et,f.u5,f.UX,y.q,it.Z,nt.o9,v.Is,at.c,C.ot,k.Ps,ot.Fk,st.LD,rt.FA,lt.XK,ct.To,mt.IJ,h.p,g.J,s.p0,p.TU,S.Cv]]}),i})()}}]);